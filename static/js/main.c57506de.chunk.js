(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(t,e,n){t.exports={postBlocke:"MyPost_postBlocke__ERqVN",posts:"MyPost_posts__3OPBo"}},108:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(16),a=n(13),o={dialogs:[{id:1,name:"Maxim"},{id:2,name:"Ekaterina"},{id:3,name:"Natalia"},{id:4,name:"Dmitrii"},{id:5,name:"Egor"},{id:6,name:"Petr"},{id:7,name:"Michail"},{id:8,name:"Lubov"},{id:9,name:"Koctia"},{id:10,name:"Leonid"},{id:11,name:"Anna"},{id:12,name:"Boris"},{id:13,name:"Kira"},{id:14,name:"Mark"}],messages:[{id:1,message:"Hi, my name is Natalia"},{id:2,message:"It's my love"},{id:3,message:"it's my first project"}]},i=function(t){return{type:"ADD-MESSAGE",newMessageBody:t}};e.b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-MESSAGE":var n={id:4,message:e.newMessageBody};return Object(a.a)({},t,{messages:[].concat(Object(r.a)(t.messages),[n])});default:return t}}},12:function(t,e,n){t.exports={nav:"Navbar_nav__2uB7B",item:"Navbar_item__21ZwI",active:"Navbar_active__2ezbM"}},130:function(t,e,n){t.exports={userPhoto:"Users_userPhoto__3XKZe",selectedCount:"Users_selectedCount__3tnzh"}},131:function(t,e,n){t.exports=n.p+"static/media/preloader.820f2dff.gif"},135:function(t,e,n){t.exports={main:"Profile_main__57yLa"}},136:function(t,e,n){t.exports={item:"Post_item__2mYXH"}},14:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return f}),n.d(e,"c",function(){return p});var r=n(110),a=n(1),o=n.n(a),i=n(103),c=n(48),u=n.n(c),s=function(t){t.input;var e=t.meta,n=(t.child,Object(r.a)(t,["input","meta","child"])),a=e.touched&&e.error;return o.a.createElement("div",{className:u.a.formControl+" "+(a?u.a.error:"")},o.a.createElement("div",null,n.children),a&&o.a.createElement("span",null,e.error))},l=function(t){var e=t.input,n=(t.meta,t.child,Object(r.a)(t,["input","meta","child"]));return o.a.createElement(s,t,o.a.createElement("textarea",Object.assign({},e,n)))},f=function(t){var e=t.input,n=(t.meta,t.child,Object(r.a)(t,["input","meta","child"]));return o.a.createElement(s,t,o.a.createElement("input",Object.assign({},e,n)))},p=function(t,e,n,r,a){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return o.a.createElement("div",null,o.a.createElement(i.a,Object.assign({placeholder:t,validate:n,name:e,component:r},a)),c)}},162:function(t,e,n){t.exports=n(311)},169:function(t,e,n){},171:function(t,e,n){},311:function(t,e,n){"use strict";n.r(e);var r=function(t){t&&t instanceof Function&&n.e(1).then(n.bind(null,314)).then(function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,o=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),o(t),i(t)})},a=n(1),o=n.n(a),i=n(125),c=n.n(i),u=(n(169),n(20)),s=n(22),l=n(24),f=n(19),p=n(23),h=(n(171),function(){return o.a.createElement("footer",{className:"footer"})}),m=n(17),d=n(12),v=n.n(d),g=function(t){return o.a.createElement("nav",{className:v.a.nav},o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/profile",className:function(t){return t.isActive?v.a.active:v.a.item}},"Profile")),o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/messages",className:function(t){return t.isActive?v.a.active:v.a.item}},"Messages")),o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/musice",className:function(t){return t.isActive?v.a.active:v.a.item}},"Musice")),o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/new",className:function(t){return t.isActive?v.a.active:v.a.item}},"New")),o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/setting",className:function(t){return t.isActive?v.a.active:v.a.item}},"Setting")),o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/friends",className:function(t){return t.isActive?v.a.active:v.a.item}})),o.a.createElement("div",{className:v.a.item},o.a.createElement(m.b,{to:"/users",className:function(t){return t.isActive?v.a.active:v.a.item}},"Users")))},y=n(0),b=function(){return o.a.createElement("div",null,"My Musice")},E=function(){return o.a.createElement("div",null,"New")},w=n(15),O=n(8),j=n(16),_=n(13),P=n(128).create({withCredentials:!0,headers:{"API-KEY":"83b21428-8fa2-474d-87b7-fc1de8a3c377"},baseURL:"https://social-network.samuraijs.com/api/1.0/"}),x={getUser:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P.get("users?count=".concat(t,"&page=").concat(e)).then(function(t){return t.data})},followUser:function(t){return P.post("follow/".concat(t),{}).then(function(t){return t.data})},unfollowUser:function(t){return P.delete("follow/".concat(t)).then(function(t){return t.data})},getprofile:function(t){return L.getprofile(t)}},L={getprofile:function(t){return P.get("profile/"+t)},getStatus:function(t){return P.get("profile/status/"+t)},updateStatus:function(t){return P.put("profile/status/",{status:t})},savePhoto:function(t){var e=new FormData;return e.append("image",t),P.put("profile/photo",e,{headers:{"Content-type":"multipart/form-data"}})},saveProfile:function(t){return P.put("profile/",t)}},S=function(){return P.get("auth/me")},k=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return P.post("auth/login",{email:t,password:e,rememberMe:n,captcha:r})},N=function(){return P.delete("auth/login")},C=function(){return P.get("security/get-captcha-url")},T=function(t,e,n,r){return t.map(function(t){return t[n]===e?Object(_.a)({},t,r):t})};function A(){A=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(x){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return P()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var l={};function f(){}function p(){}function h(){}var m={};c(m,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(_([])));v&&v!==e&&n.call(v,a)&&(m=v);var g=h.prototype=f.prototype=Object.create(m);function y(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(a,o){function i(){return new e(function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=h,c(g,"constructor",h),c(h,"constructor",p),p.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},y(g),c(g,i,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var I={users:[],pageSize:10,portionSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},U=function(t){return{type:"FOLLOW",userId:t}},F=function(t){return{type:"UNFOLLOW",userId:t}},G=function(t){return{type:"UP_DATA_CURRENT_PAGE",currentPage:t}},R=function(t){return{type:"TOGGLE_IS_FETCHING",isFetching:t}},M=function(t,e){return{type:"TOGGLE_IN_PROGRESS",isFetching:t,id:e}},D=function(){var t=Object(O.a)(A().mark(function t(e,n,r,a){return A().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e(M(!0,n)),t.next=3,r(n);case 3:0===t.sent.resultCode&&e(a(n)),e(M(!1,n));case 6:case"end":return t.stop()}},t)}));return function(e,n,r,a){return t.apply(this,arguments)}}(),z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"FOLLOW":return Object(_.a)({},t,{users:T(t.users,e.userId,"id",{followed:!0})});case"UNFOLLOW":return Object(_.a)({},t,{users:T(t.users,e.userId,"id",{followed:!1})});case"SET_USERS":return Object(_.a)({},t,{users:Object(j.a)(e.users)});case"UP_DATA_CURRENT_PAGE":return Object(_.a)({},t,{currentPage:e.currentPage});case"SET_TOTAL_USER_COUNT":return Object(_.a)({},t,{totalUsersCount:e.totalCount});case"TOGGLE_IS_FETCHING":return Object(_.a)({},t,{isFetching:e.isFetching});case"TOGGLE_IN_PROGRESS":return Object(_.a)({},t,{followingInProgress:e.isFetching?[].concat(Object(j.a)(t.followingInProgress),[e.id]):t.followingInProgress.filter(function(t){return t!==e.id})});default:return t}},B=n(10),H=n(6),J=n(64),Y=n.n(J),q=n(129),W=n.n(q),K=function(t){for(var e=Math.ceil(t.totalItemsCount/t.pageSize),n=[],r=1;r<=e;r++)n.push(r);var i=Math.ceil(e/t.portionSize),c=Object(a.useState)(1),u=Object(H.a)(c,2),s=u[0],l=u[1],f=(s-1)*t.portionSize,p=s*t.portionSize;return o.a.createElement("div",{className:Y.a.paginator},s>1&&o.a.createElement("button",{onClick:function(){l(s-1)}},"Prev"),n.filter(function(t){return t>f&&t<=p}).map(function(e){return o.a.createElement("span",{key:e,onClick:function(){t.onPageChanged(e)},className:W()(Object(B.a)({},Y.a.selectedCount,t.currentPage===e),Y.a.pageNumber)},e)}),i>s&&o.a.createElement("button",{onClick:function(){l(s+1)}},"Next"))},V=n(110),X=n(130),Z=n.n(X),$=n(62),Q=n.n($),tt=function(t){var e=t.user,n=Object(V.a)(t,["user"]);return o.a.createElement("div",null,o.a.createElement("span",null,o.a.createElement("div",null,o.a.createElement(m.b,{to:"/profile/"+e.id},o.a.createElement("img",{src:null!=e.photos.large?e.photos.large:Q.a,className:Z.a.userPhoto}))),o.a.createElement("div",null,e.followed?o.a.createElement("button",{disabled:n.followingInProgress.some(function(t){return t===e.id}),onClick:function(){n.unfollow(e.id)}},"Unfollow"):o.a.createElement("button",{disabled:n.followingInProgress.some(function(t){return t===e.id}),onClick:function(){n.follow(e.id)}},"Follow"))),o.a.createElement("span",null,o.a.createElement("span",null,o.a.createElement("div",null,e.name),o.a.createElement("div",null,e.status)),o.a.createElement("span",null,o.a.createElement("div",null,"country"),o.a.createElement("div",null,"city"))))},et=function(t){return o.a.createElement("div",{className:""},o.a.createElement(K,{currentPage:t.currentPage,totalItemsCount:t.totalUsersCount,pageSize:t.pageSize,portionSize:t.portionSize,onPageChanged:t.onPageChanged}),o.a.createElement("div",null,t.users.map(function(e){return o.a.createElement(tt,{key:e.id,user:e,followingInProgress:t.followingInProgress,follow:t.follow,unfollow:t.unfollow})}),";"))},nt=n(131),rt=n.n(nt),at=function(t){return o.a.createElement("div",null,o.a.createElement("img",{src:rt.a}))},ot=n(92),it=n(11),ct=function(t){return t.usersPage.users},ut=function(t){return t.usersPage.pageSize},st=function(t){return t.usersPage.portionSize},lt=function(t){return t.usersPage.totalUsersCount},ft=function(t){return t.usersPage.currentPage},pt=function(t){return t.usersPage.isFetching},ht=function(t){return t.usersPage.followingInProgress},mt=function(t){function e(){var t,n;Object(u.a)(this,e);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(f.a)(e)).call.apply(t,[this].concat(a)))).onPageChanged=function(t){n.props.requestUsers(n.props.pageSize,t)},n.render=function(){return o.a.createElement(o.a.Fragment,null,n.props.isFetching?o.a.createElement(at,null):null,o.a.createElement(et,{totalUsersCount:n.props.totalUsersCount,pageSize:n.props.pageSize,portionSize:n.props.portionSize,onPageChanged:n.onPageChanged,currentPage:n.props.currentPage,users:n.props.users,unfollow:n.props.unfollow,s:!0,follow:n.props.follow,followingInProgress:n.props.followingInProgress,toggleInProgress:n.props.toggleInProgress}))},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.requestUsers(this.props.pageSize,this.props.currentPage)}}]),e}(o.a.Component),dt=Object(it.d)(Object(w.b)(function(t){return{users:ct(t),pageSize:ut(t),portionSize:st(t),totalUsersCount:lt(t),currentPage:ft(t),isFetching:pt(t),followingInProgress:ht(t)}},{requestUsers:function(t,e){return function(){var n=Object(O.a)(A().mark(function n(r){var a;return A().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(R(!0)),r(G(e)),n.next=4,x.getUser(t,e);case 4:a=n.sent,r(R(!1)),r({type:"SET_USERS",users:a.items}),r({type:"SET_TOTAL_USER_COUNT",totalCount:a.totalCount});case 8:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()},upDataCurrentPage:G,follow:function(t){return function(){var e=Object(O.a)(A().mark(function e(n){var r,a;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.followUser.bind(x),a=U,e.abrupt("return",D(n,t,r,a));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},unfollow:function(t){return function(){var e=Object(O.a)(A().mark(function e(n){var r;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=x.unfollowUser.bind(x),D(n,t,r,F);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},toggleInProgress:M}),ot.a)(mt),vt=n(80),gt=n.n(vt),yt=function(t){return o.a.createElement("header",{className:gt.a.header},o.a.createElement("img",{src:"https://avatars.mds.yandex.net/i?id=f0563cbdc64fc4f1cc4fffdcee6b6d7a-5547365-images-thumbs&n=13",alt:"\u043b\u043e\u0433\u043e"}),o.a.createElement("div",{className:gt.a.loginBlock},t.isAuth?o.a.createElement("div",null,t.login," - ",o.a.createElement("button",{onClick:t.logout},"Log out")):o.a.createElement(m.b,{to:"/login"},"Login")))},bt=n(28);function Et(){Et=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(x){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return P()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var l={};function f(){}function p(){}function h(){}var m={};c(m,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(_([])));v&&v!==e&&n.call(v,a)&&(m=v);var g=h.prototype=f.prototype=Object.create(m);function y(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(a,o){function i(){return new e(function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=h,c(g,"constructor",h),c(h,"constructor",p),p.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},y(g),c(g,i,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var wt={id:null,email:null,login:null,isAuth:!1,captchaURL:null},Ot=function(t,e,n,r){return{type:"SET_USER_DATA",data:{id:t,email:e,login:n,isAuth:r}}},jt=function(t){return{type:"GET_CAPTCHA_URL",data:{captchaURL:t}}},_t=function(){return function(){var t=Object(O.a)(Et().mark(function t(e){var n,r,a,o,i;return Et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S();case 2:0===(n=t.sent).data.resultCode&&(r=n.data.data,a=r.id,o=r.email,i=r.login,e(Ot(a,o,i,!0)));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Pt=function(){return function(){var t=Object(O.a)(Et().mark(function t(e){return Et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:0===t.sent.data.resultCode&&e(Ot(null,null,null,!1));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},xt=function(){return function(){var t=Object(O.a)(Et().mark(function t(e){var n,r;return Et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:n=t.sent,r=n.data.url,e(jt(r));case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Lt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_USER_DATA":case"GET_CAPTCHA_URL":return Object(_.a)({},t,e.data);default:return t}},St=function(t){function e(){return Object(u.a)(this,e),Object(l.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return o.a.createElement(yt,this.props)}}]),e}(o.a.Component),kt=Object(w.b)(function(t){return{isAuth:t.auth.isAuth,login:t.auth.login}},{logout:Pt})(St),Nt=n(109),Ct=n(35),Tt=n(14),At=n(48),It=n.n(At),Ut=Object(Nt.a)({form:"login"})(function(t){return o.a.createElement("form",{onSubmit:t.handleSubmit},Object(Tt.c)("Email","email",[Ct.b],Tt.a),Object(Tt.c)("Password","password",[Ct.b],Tt.a,{type:"password"}),Object(Tt.c)(null,"rememberMe",[],Tt.a,{type:"checkbox"},"remember me"),t.error&&o.a.createElement("div",{className:It.a.formSummeryError},t.error),o.a.createElement("div",null,t.captchaURL&&o.a.createElement("img",{src:t.captchaURL}),t.captchaURL&&Object(Tt.c)("enter the characters from the picture","captcha",[Ct.b],Tt.a,{}),o.a.createElement("button",null,"Login")))}),Ft=Object(w.b)(function(t){return{isAuth:t.auth.isAuth,captchaURL:t.auth.captchaURL}},{login:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(){var a=Object(O.a)(Et().mark(function a(o){var i,c;return Et().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,k(t,e,n,r);case 2:0===(i=a.sent).data.resultCode?o(_t()):(10===i.data.resultCode&&o(xt()),c=i.data.messages>0?i.data.messages[0]:"Some Error",o(Object(bt.a)("login",{_error:c})));case 4:case"end":return a.stop()}},a)}));return function(t){return a.apply(this,arguments)}}()},logout:Pt})(function(t){return t.isAuth?o.a.createElement(y.a,{to:"/profile"}):o.a.createElement("div",null,o.a.createElement("h1",null,"Login"),o.a.createElement(Ut,{onSubmit:function(e){t.login(e.email,e.password,e.rememberMe,e.captcha)},captchaURL:t.captchaURL}))}),Gt={initialised:!1},Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gt;switch((arguments.length>1?arguments[1]:void 0).type){case"SET_INITALIZED_SUCCESS":return Object(_.a)({},t,{initialised:!0});default:return t}},Mt=n(108);function Dt(){Dt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(x){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var a=e&&e.prototype instanceof f?e:f,o=Object.create(a.prototype),i=new j(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return P()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(x){return{type:"throw",arg:x}}}t.wrap=u;var l={};function f(){}function p(){}function h(){}var m={};c(m,a,function(){return this});var d=Object.getPrototypeOf,v=d&&d(d(_([])));v&&v!==e&&n.call(v,a)&&(m=v);var g=h.prototype=f.prototype=Object.create(m);function y(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(a,o){function i(){return new e(function(r,i){!function r(a,o,i,c){var u=s(t[a],t,o);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(a,o,r,i)})}return r=r?r.then(i,i):i()}}function E(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,E(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var a=r.arg;return a?a.done?(e[t.resultName]=a.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return p.prototype=h,c(g,"constructor",h),c(h,"constructor",p),p.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),c(b.prototype,o,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,a,o){void 0===o&&(o=Promise);var i=new b(u(e,n,r,a),o);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},y(g),c(g,i,"Generator"),c(g,a,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=_,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:_(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var zt={posts:[{id:1,message:"Hi, fdghttrhrth",licesCount:12},{id:2,message:"jgihhegj ijtgiekje jghejelmg",licesCount:11}],profile:null,status:""},Bt=function(t){return{type:"SET-STATUS",status:t}},Ht=function(t){return{type:"SET-PHOTO",photos:t}},Jt=function(t){return function(){var e=Object(O.a)(Dt().mark(function e(n){var r;return Dt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getprofile(t);case 2:r=e.sent,n({type:"SET-USER-PROFILE",profile:r.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},Yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD-POST":var n={id:5,message:e.newPostText,licesCount:0};return Object(_.a)({},t,{posts:[].concat(Object(j.a)(t.posts),[n])});case"SET-USER-PROFILE":return Object(_.a)({},t,{profile:e.profile});case"SET-STATUS":return Object(_.a)({},t,{status:e.status});case"SET-PHOTO":return Object(_.a)({},t,{profile:Object(_.a)({},t.profile,{photos:e.photos})});default:return t}},qt={friends:[{id:1,name:"Mark"},{id:2,name:"Anna"},{id:3,name:"Kira"}]},Wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qt;arguments.length>1&&arguments[1];return t},Kt=n(134),Vt=n(104),Xt=Object(it.c)({dialogsPage:Mt.b,postsPage:Yt,sadebar:Wt,usersPage:z,auth:Lt,app:Rt,form:Vt.a}),Zt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||it.d,$t=Object(it.e)(Xt,Zt(Object(it.a)(Kt.a))),Qt=n(135),te=n.n(Qt),ee=n(51),ne=n.n(ee),re=function(t){var e=Object(a.useState)(!1),n=Object(H.a)(e,2),r=n[0],i=n[1],c=Object(a.useState)(t.status),u=Object(H.a)(c,2),s=u[0],l=u[1];Object(a.useEffect)(function(){l(t.status)},[t.status]);return o.a.createElement("div",null,o.a.createElement("b",null,"Status: "),!r&&o.a.createElement("div",null,o.a.createElement("span",{onDoubleClick:function(){i(!0)}},t.status)),r&&o.a.createElement("div",null,o.a.createElement("input",{onChange:function(t){l(t.currentTarget.value)},autoFocus:!0,value:s,onBlur:function(){i(!1),t.updateStatus(s)}})))},ae=Object(Nt.a)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})(function(t){return o.a.createElement("form",{onSubmit:t.handleSubmit},o.a.createElement("button",null,"Save"),o.a.createElement("div",null,o.a.createElement("b",null,"Full name: "),Object(Tt.c)("full-name","fullName",[],Tt.a)),o.a.createElement("div",null,o.a.createElement("b",null,"Looking for a job: "),Object(Tt.c)("Looking for a job","lookingForAJob",[],Tt.a,{type:"checkbox"})),o.a.createElement("div",null,o.a.createElement("b",null,"Looking for a job description: "),Object(Tt.c)("Looking for a job description","lookingForAJobDescription",[],Tt.b)),o.a.createElement("div",null,o.a.createElement("b",null,"About me: "),Object(Tt.c)("About me","aboutMe",[],Tt.b)),o.a.createElement("div",null,o.a.createElement("b",null,"Contacts: "),Object.keys(t.profile.contacts).map(function(t){return o.a.createElement("div",{id:t},o.a.createElement("b",null,t),Object(Tt.c)(t,"contacts."+t,[],Tt.a))})))}),oe=function(t){return o.a.createElement("div",null,t.isOwner&&o.a.createElement("button",{onClick:t.goEditMode},"Edit"),o.a.createElement("div",null,o.a.createElement("b",null,"Full name: "),t.profile.fullName),o.a.createElement("div",null,o.a.createElement("b",null,"Looking for a job: "),t.profile.lookingForAJob?"yes":"no"),t.profile.lookingForAJob&&o.a.createElement("div",null,o.a.createElement("b",null,"Looking for a job description: "),t.profile.lookingForAJobDescription),o.a.createElement("div",null,o.a.createElement("b",null,"About me: "),t.profile.aboutMe),o.a.createElement("div",null,o.a.createElement("b",null,"Contacts: "),Object.keys(t.profile.contacts).map(function(e){return o.a.createElement(ie,{key:e,contactTitle:e,contactValue:t.profile.contacts[e]})})))},ie=function(t){var e=t.contactTitle,n=t.contactValue;return o.a.createElement("div",{className:ne.a.contact},o.a.createElement("b",null,e),": ",n)},ce=function(t){if(!t.profile)return o.a.createElement(at,null);var e=Object(a.useState)(!1),n=Object(H.a)(e,2),r=n[0],i=n[1];return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("img",{src:"https://i.pinimg.com/originals/72/42/59/7242596ac964d4ff2689196f854dc16c.jpg",alt:""})),o.a.createElement("div",{className:ne.a.descriptionBlock},o.a.createElement("img",{src:t.profile.photos.large||Q.a,className:ne.a.mainFoto}),t.isOwner&&o.a.createElement("input",{type:"file",onChange:function(e){0!=e.target.files.length&&t.savePhoto(e.target.files[0])}})),r?o.a.createElement(ae,{initialValues:t.profile,onSubmit:function(e){t.saveProfile(e).then(function(){i(!1)})},profile:t.profile}):o.a.createElement(oe,{profile:t.profile,isOwner:t.isOwner,goEditMode:function(){i(!0)}}),o.a.createElement(re,{status:t.status,updateStatus:t.updateStatus}))},ue=n(107),se=n.n(ue),le=n(136),fe=n.n(le),pe=function(t){return o.a.createElement("div",{className:fe.a.item},o.a.createElement("img",{src:"https://klike.net/uploads/posts/2019-03/1551511823_2.jpg",alt:""}),t.message)},he=n(103),me=Object(Ct.a)(10),de=o.a.memo(function(t){console.log("render");var e=t.posts.map(function(t){return o.a.createElement(pe,{message:t.message,key:t.id})});return o.a.createElement("div",{className:se.a.postBlocke},o.a.createElement("h3",null,"My Post"),o.a.createElement(ve,{onSubmit:function(e){t.onAddPost(e.newPostText)}}),o.a.createElement("div",{className:se.a.posts},e))}),ve=Object(Nt.a)({form:"ProfileAddNewPostForm"})(function(t){return o.a.createElement("form",{onSubmit:t.handleSubmit},o.a.createElement("div",null,o.a.createElement(he.a,{name:"newPostText",component:Tt.b,validate:[Ct.b,me]})),o.a.createElement("div",null,o.a.createElement("button",null,"add Post"),o.a.createElement("button",null,"remove Post")))}),ge=de,ye=Object(w.b)(function(t){return{posts:t.postsPage.posts,newPostText:t.postsPage.newPostText}},function(t){return{onAddPost:function(e){t(function(t){return{type:"ADD-POST",newPostText:t}}(e))}}})(ge),be=function(t){return o.a.createElement("div",{className:te.a.main},o.a.createElement(ce,{isOwner:t.isOwner,profile:t.profile,status:t.status,updateStatus:t.updateStatus,savePhoto:t.savePhoto,saveProfile:t.saveProfile}),o.a.createElement(ye,{store:t.store}))},Ee=function(t){function e(){return Object(u.a)(this,e),Object(l.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"updateProfile",value:function(){var t=this.props.router.params.userId;t||(t=this.props.authorizedUserId)||this.props.router.navigate("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(t,e){this.props.router.params.userId!==t.router.params.userId&&this.updateProfile()}},{key:"render",value:function(){return o.a.createElement(be,Object.assign({},this.props,{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}))}}]),e}(o.a.Component);var we=Object(it.d)(Object(w.b)(function(t){return{profile:t.postsPage.profile,status:t.postsPage.status,authorizedUserId:t.auth.id,isAuth:t.auth.isAuth}},{getUserProfile:Jt,getStatus:function(t){return function(){var e=Object(O.a)(Dt().mark(function e(n){var r;return Dt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.getStatus(t);case 2:null!==(r=e.sent).data?n(Bt(r.data)):n(Bt("non status"));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},updateStatus:function(t){return function(){var e=Object(O.a)(Dt().mark(function e(n){return Dt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.updateStatus(t);case 2:0===e.sent.data.resultCode&&n(Bt(t));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},savePhoto:function(t){return function(){var e=Object(O.a)(Dt().mark(function e(n){var r;return Dt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.savePhoto(t);case 2:0===(r=e.sent).data.resultCode&&n(Ht(r.data.data.photos));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},saveProfile:function(t){return function(){var e=Object(O.a)(Dt().mark(function e(n,r){var a,o,i,c;return Dt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=r().auth.id,o=function(t){for(var e,n=t.split(/[^a-z]/i),r=0;r<n.length;r++)"Contacts"==n[r]&&(e=n[r+2]);return e[0].toLowerCase()+e.substring(1)},e.next=4,L.saveProfile(t);case 4:if(0!==(i=e.sent).data.resultCode){e.next=9;break}n(Jt(a)),e.next=12;break;case 9:return c=i.data.messages.length>0?i.data.messages[0]:"Some Error",n(Object(bt.a)("edit-profile",{contacts:Object(B.a)({},o(i.data.messages[0]),c)})),e.abrupt("return",Promise.reject(i.data.messages[0]));case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}}),function(t){return function(e){var n=Object(y.k)(),r=Object(y.p)(),a=Object(y.n)();return o.a.createElement(t,Object.assign({},e,{router:{location:n,navigate:a,params:r}}))}})(Ee),Oe=o.a.lazy(function(){return n.e(2).then(n.bind(null,315))}),je=function(t){function e(){return Object(u.a)(this,e),Object(l.a)(this,Object(f.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.props.initialise()}},{key:"render",value:function(){return this.props.initialised?o.a.createElement("div",{className:"app-wrapper"},o.a.createElement(kt,null),o.a.createElement(g,null),o.a.createElement("div",{className:"app-wrapper-content"},o.a.createElement(a.Suspense,{fallback:o.a.createElement("div",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")},o.a.createElement(y.d,null,o.a.createElement(y.b,{path:"/",element:o.a.createElement(y.a,{to:"/profile"})}),o.a.createElement(y.b,{path:"/profile/:userId",element:o.a.createElement(we,null)}),o.a.createElement(y.b,{path:"/profile",element:o.a.createElement(we,null)}),o.a.createElement(y.b,{path:"/messages",element:o.a.createElement(Oe,null)}),o.a.createElement(y.b,{path:"/musice",element:o.a.createElement(b,null)}),o.a.createElement(y.b,{path:"/new",element:o.a.createElement(E,null)}),o.a.createElement(y.b,{path:"/users",element:o.a.createElement(dt,null)}),o.a.createElement(y.b,{path:"/login",element:o.a.createElement(Ft,null)})))),o.a.createElement(h,null)):o.a.createElement(at,null)}}]),e}(o.a.Component);var _e=Object(it.d)(function(t){return function(e){var n=Object(y.k)(),r=Object(y.p)(),a=Object(y.n)();return o.a.createElement(t,Object.assign({},e,{router:{location:n,navigate:a,params:r}}))}},Object(w.b)(function(t){return{initialised:t.app.initialised}},{initialise:function(){return function(t){t(_t()).then(function(){t({type:"SET_INITALIZED_SUCCESS"})})}}}))(je),Pe=function(t){return o.a.createElement(o.a.StrictMode,null,o.a.createElement(m.a,null,o.a.createElement(w.a,{store:$t},o.a.createElement(_e,null))))};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(Pe,null)),r(),r()},35:function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return a});var r=function(t){if(!t)return"Field is required"},a=function(t){return function(e){if(e&&e.length>t)return"Max length is ${maxLength} symbols"}}},48:function(t,e,n){t.exports={formControl:"FormsControl_formControl__2JhuF",error:"FormsControl_error__2quDN",formSummeryError:"FormsControl_formSummeryError__3vvHg"}},51:function(t,e,n){t.exports={descriptionBlock:"ProfileInfo_descriptionBlock__1n5bb",mainFoto:"ProfileInfo_mainFoto__3myqm",contact:"ProfileInfo_contact__3Wx3G",formError:"ProfileInfo_formError__1XsWk"}},62:function(t,e,n){t.exports=n.p+"static/media/user.72747583.png"},64:function(t,e,n){t.exports={pageNumber:"Paginator_pageNumber__7Rgeu",selectedCount:"Paginator_selectedCount__22xtu",paginator:"Paginator_paginator__3SuAj"}},80:function(t,e,n){t.exports={header:"Header_header__HMFeI",loginBlock:"Header_loginBlock__28DDv"}},92:function(t,e,n){"use strict";var r=n(20),a=n(22),o=n(24),i=n(19),c=n(23),u=n(1),s=n.n(u),l=n(15),f=n(0),p=function(t){return{isAuth:t.auth.isAuth}};e.a=function(t){var e=function(e){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(i.a)(n).apply(this,arguments))}return Object(c.a)(n,e),Object(a.a)(n,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(t,this.props):s.a.createElement(f.a,{to:"/login"})}}]),n}(s.a.Component);return Object(l.b)(p)(e)}}},[[162,4,3]]]);
//# sourceMappingURL=main.c57506de.chunk.js.map